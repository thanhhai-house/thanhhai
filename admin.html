<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8">
<title>Admin Dashboard</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" href="styles.css">
</head>

<body>

<header class="topbar">
  <h1>Admin Dashboard</h1>
  <a href="index.html">← Trang trưng bày</a>
</header>

<section class="dashboard">
  <div class="box"><b id="totalProducts">0</b><span>Sản phẩm</span></div>
  <div class="box"><b id="totalStock">0</b><span>Tồn kho</span></div>
  <div class="box"><b id="totalSold">0</b><span>Đã bán</span></div>
</section>

<section class="admin-form">
  <input id="id" placeholder="ID">
  <input id="oem" placeholder="OEM">
  <input id="name" placeholder="Tên">
  <input id="brand" placeholder="Brand">
  <input id="category" placeholder="Category">
  <input id="price" type="number" placeholder="Giá">
  <input id="stock" type="number" placeholder="Tồn">
  <input type="file" id="img">
  <button onclick="upload()">Upload ảnh</button>
  <button onclick="save()">Lưu</button>
</section>

<script src="admin.js"></script>
<script>
fetch(API+"?path=products")
.then(r=>r.json())
.then(p=>{
  totalProducts.textContent=p.length;
  totalStock.textContent=p.reduce((a,b)=>a+b.stock,0);
  totalSold.textContent=p.reduce((a,b)=>a+b.sold,0);
});
</script>

</body>
</html>
